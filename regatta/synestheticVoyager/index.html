<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Synesthetic Voyager V.1.3.1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- START: Info Panel -->
    <div id="info-panel">
        <div id="info-panel-tab">
            <span>?</span>
        </div>
        <div id="info-panel-content">
            <h2>About Synesthetic Voyage</h2>
            <p>
                This is an interactive tool for exploring the internal "geometry" of a large language model (GPT-2). It investigates whether abstract concepts like "safety" and "danger" exist as consistent, measurable directions within the model's activation space.
            </p>

            <h3>How It Works</h3>
            <p>
                You provide two opposing concepts. The application uses these to define a 2D plane (a "sail") within the model's high-dimensional space. It then projects a large set of test prompts (the "winds") onto this plane to measure two things:
            </p>
            <ul>
                <li><strong>Magnitude (r):</strong> How relevant is this plane to the concept of safety? (How much wind does the sail catch?)</li>
                <li><strong>Polarity:</strong> Does the plane reliably separate "safe" prompts from "unsafe" ones? (Does the boat turn correctly in the wind?)</li>
            </ul>

            <h3>The Research</h3>
            <p>
                This tool is the front-end for a research experiment that found, after rigorous testing, that a simple, statistically robust "safety compass" was not present in this model layer. This suggests the model's understanding is more complex and abstract than human intuition might suggest.
            </p>
            <div class="info-links">
                <a href="YOUR_LINK_TO_THE_PAPER_HERE" target="_blank">Read the Full Experiment Write-up</a>
                <a href="https://github.com/ApocryphalEditor/GPT2Smol_Regatta" target="_blank">View Project on GitHub</a>
            </div>
        </div>
    </div>
    <!-- END: Info Panel -->

    <!-- This new div will wrap the canvas and apply the visual flip -->
    <div id="gamespace-wrapper"></div>

    <div id="forge-animation-container"></div>

    <div id="shipwrights-console" class="console-collapsed">
        <div id="console-content">
            <div class="console-header">
                <h2>Shipwright's Console</h2>
                <p class="subtitle">Define the next leg of your journey.</p>
            </div>
            <div class="input-area">
                <div>
                    <label for="phrase1">Concept 1 (Safe/North):</label>
                    <input type="text" id="phrase1" value="Safe">
                </div>
                <div>
                    <label for="phrase2">Concept 2 (Unsafe/South):</label>
                    <input type="text" id="phrase2" value="Danger">
                </div>
            </div>
            <div class="settings-area">
                <fieldset>
                    <legend>Activation View:</legend>
                    <div class="radio-group-container">
                        <div class="radio-option">
                            <input type="radio" id="viewAggMean" name="aggregationView" value="mean" checked>
                            <label for="viewAggMean">Mean</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="viewAggLastToken" name="aggregationView" value="last_token">
                            <label for="viewAggLastToken">Last Token</label>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="launch-buttons-area">
                <button id="launchButtonQuick">Analyze Winds (Quick)</button>
                <button id="launchButtonFull">Analyze Winds (Full)</button>
            </div>
            <div id="methodCardsContainer" class="method-cards-container">
                <p class="placeholder-text">Analysis results will appear here. Define your concepts and launch an analysis.</p>
            </div>
            <div id="resultsDisclaimer" class="results-disclaimer">
                <h3>ðŸ“Š A Note on Significance</h3>
                <p>The <strong>Polarity Score</strong>, <strong>Magnitude (r)</strong>, and <strong>Orientation (Î¸)</strong> are <strong>descriptive metrics</strong> for your current design against our test set. They provide valuable intuition but are not automatically tested for statistical significance. The most promising "sailbots" found here are candidates for deeper, formal investigation.</p>
            </div>
        </div>
        <div id="console-tab">
            <span>â˜°</span>
        </div>
    </div>

    <div id="journey-log-ui" class="hidden">
        <h3>Journey Log</h3>
        <ul id="log-entries"></ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
    <script src="script.js"></script>
</body>
</html>